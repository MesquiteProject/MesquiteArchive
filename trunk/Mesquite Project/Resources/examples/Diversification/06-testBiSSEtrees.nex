#NEXUS
[written Thu Aug 23 17:14:25 PDT 2007 by Mesquite  version 2.0BETA3 (build i50) at Thrandina.local/10.0.1.6 (Wayne Maddison)]

BEGIN TAXA;
	DIMENSIONS NTAX=40;
	TAXLABELS
		taxon_1 taxon_2 taxon_3 taxon_4 taxon_5 taxon_6 taxon_7 taxon_8 taxon_9 taxon_10 taxon_11 taxon_12 taxon_13 taxon_14 taxon_15 taxon_16 taxon_17 taxon_18 taxon_19 taxon_20 taxon_21 taxon_22 taxon_23 taxon_24 taxon_25 taxon_26 taxon_27 taxon_28 taxon_29 taxon_30 taxon_31 taxon_32 taxon_33 taxon_34 taxon_35 taxon_36 taxon_37 taxon_38 taxon_39 taxon_40 
	;
	IDS WM1148f47d2061 WM1148f47d2072 WM1148f47d2073 WM1148f47d2074 WM1148f47d2075 WM1148f47d2076 WM1148f47d2077 WM1148f47d2078 WM1148f47d2079 WM1148f47d20710 WM1148f47d20711 WM1148f47d20712 WM1148f47d20713 WM1148f47d20714 WM1148f47d20715 WM1148f47d20716 WM1148f47d20717 WM1148f47d20718 WM1148f47d20719 WM1148f47d20720 WM1148f47d20721 WM1148f47d20722 WM1148f47d20723 WM1148f47d20724 WM1148f47d20725 WM1148f47d20726 WM1148f47d20727 WM1148f47d20728 WM1148f47d20729 WM1148f47d20830 WM1148f47d20831 WM1148f47d20832 WM114943e352533 WM114943e352534 WM114943e352535 WM114943e352536 WM114943e352537 WM114943e352538 WM114943e352639 WM114943e352640 ;
	BLOCKID WM1148f47d2081;

END;


BEGIN CHARACTERS;
	DIMENSIONS  NCHAR=3;
	FORMAT DATATYPE = STANDARD GAP = - MISSING = ? SYMBOLS = "  0 1";
	CHARSTATELABELS 
		1 Sim._with_tree_1, 2 Sim._with_tree_2, 3 Sim._with_tree_3 ; 
	MATRIX
	taxon_1   110
	taxon_2   110
	taxon_3   110
	taxon_4   010
	taxon_5   110
	taxon_6   011
	taxon_7   110
	taxon_8   110
	taxon_9   110
	taxon_10  110
	taxon_11  100
	taxon_12  110
	taxon_13  100
	taxon_14  110
	taxon_15  110
	taxon_16  110
	taxon_17  010
	taxon_18  110
	taxon_19  110
	taxon_20  010
	taxon_21  110
	taxon_22  010
	taxon_23  110
	taxon_24  110
	taxon_25  110
	taxon_26  110
	taxon_27  110
	taxon_28  110
	taxon_29  010
	taxon_30  11?
	taxon_31  110
	taxon_32  110
	taxon_33  ??0
	taxon_34  ???
	taxon_35  ???
	taxon_36  ???
	taxon_37  ???
	taxon_38  ???
	taxon_39  ???
	taxon_40  ???

;
	IDS WM114943e35021 WM114943e35022 WM114943e35023 ;
	BLOCKID WM1149521002f0;


END;
BEGIN CODONS;
CODESET * UNTITLED   =  universal:  1 -  3;


END;

BEGIN TREES;
	TRANSLATE
		1 taxon_1,
		2 taxon_2,
		3 taxon_3,
		4 taxon_4,
		5 taxon_5,
		6 taxon_6,
		7 taxon_7,
		8 taxon_8,
		9 taxon_9,
		10 taxon_10,
		11 taxon_11,
		12 taxon_12,
		13 taxon_13,
		14 taxon_14,
		15 taxon_15,
		16 taxon_16,
		17 taxon_17,
		18 taxon_18,
		19 taxon_19,
		20 taxon_20,
		21 taxon_21,
		22 taxon_22,
		23 taxon_23,
		24 taxon_24,
		25 taxon_25,
		26 taxon_26,
		27 taxon_27,
		28 taxon_28,
		29 taxon_29,
		30 taxon_30,
		31 taxon_31,
		32 taxon_32,
		33 taxon_33,
		34 taxon_34,
		35 taxon_35,
		36 taxon_36,
		37 taxon_37,
		38 taxon_38,
		39 taxon_39,
		40 taxon_40;
	TREE 'Simulated Tree (with character) 1' = ((((((((1:0.31758386726459487,(27:0.0890048787863595,31:0.0890048787863595):0.22857898847823532):4.0315496663502035,(((8:0.12890050076806317,30:0.12890050076806317):0.14613244411502502,(28:0.0020337675698789176,32:0.0020337675698789176):0.2729991773132093):0.13688845177598924,19:0.41192139665907745):3.937212136955721):4.643754588531437,14:8.992888122146235):5.81063569840777,9:14.803523820554004):11.48854140583859,(22:0.1578463176627252,29:0.1578463176627252):26.134218908729874):0.12201026265003946,(6:7.449668677709931,(21:3.470080697062885,26:3.470080697062885):3.979587980647045):18.964406811332704):6.164897713598619,(3:14.041410343029453,((13:8.292529312758228,(18:6.357562838661135,23:6.357562838661135):1.9349664740970953):2.3628756156380275,(((12:0.9067917741844896,10:0.9067917741844896):4.118175202157342,25:5.024966976341832):4.260031102742894,(17:7.740607202683594,(20:5.3629768108670435,4:5.3629768108670435):2.3776303918165507):1.5443908764011318):1.370406849311532):3.3860054146331944):18.5375628596118):1.8657586371251724,(((((15:2.3561744014581376,7:2.3561744014581376):1.4117844004884388,11:3.767958801946576):7.426765764288273,(2:9.307687865183043,16:9.307687865183043):1.8870367010518059):5.111787708481523,5:16.30651227471638):4.310044381979214,24:20.616556656695586):13.828175183070842):8.363595560136996;
	TREE 'Simulated Tree (with character) 2' = (((((((13:1.9249332497710263,11:1.9249332497710263):7.213827243557045,((((16:0.009212142464625806,25:0.009212142464625806):1.6143541112209354,28:1.6235662536855613):4.203612280514706,12:5.827178534200267):0.20417295417927292,7:6.0313514883795385):3.107409004948532):0.015473481887863563,18:9.154233975215933):4.996024634535354,((4:3.564849900141476,22:3.564849900141476):8.562831449237592,19:12.127681349379067):2.0225772603722207):5.126176323560407,((10:3.8921566745030796,23:3.8921566745030796):1.3663148594694203,20:5.2584715339725):14.017963399339198):14.28627875788207,((5:0.5111160767024717,32:0.5111160767024717):8.686992794059186,(6:7.364422097418208,((17:1.8259265881875795,27:1.8259265881875795):0.36275530148839674,(26:1.4647111527479202,(29:0.8366490546705847,31:0.8366490546705847):0.6280620980773355):0.7239707369280559):5.1757402077422325):1.833686773343452):24.364604820432103):27.899053726950182,((((2:2.9783425191253383,24:2.9783425191253383):4.710482974709374,14:7.688825493834712):15.75539946628907,(1:12.838520649503394,9:12.838520649503392):10.60570431062039):18.528162780118347,(3:5.236526795990939,((21:1.8896905494204526,(15:1.3522265903054957,30:1.3522265903054957):0.5374639591149569):2.1639048645253536,8:4.053595413945806):1.182931382045133):36.73586094425119):19.489379677901802):0.0;
	TREE 'Simulated Tree (with character) 3' = ((((((1:6.733850007325906,(((22:1.1980124487342079,33:1.1980124487342079):1.302670158168764,26:2.500682606902972):0.4379821540763149,25:2.9386647609792873):3.7951852463466214):1.39834229484934,(20:0.879413801108748,15:0.879413801108748):7.252778501066499):5.715487128366211,10:13.847679430541458):16.16972533713742,((6:9.497444391017067,((17:4.820216011089406,2:4.820216011089406):2.3142352457149973,21:7.1344512568044):2.3629931342126658):6.416022940247167,((8:3.418698299978621,(23:1.5404026685915388,28:1.5404026685915388):1.878295631387081):3.955997975343889,4:7.374696275322507):8.538771055941726):14.103937436414645):0.8256637235640104,(((((3:9.235113834873324,((18:1.4120417460876862,(31:1.2602125910625275,32:1.2602125910625275):0.15182915502515854):1.608437699900125,24:3.0204794459878115):6.214634388885515):10.202311212119364,11:19.437425046992693):0.4940145272029676,((12:10.852573954898492,(29:0.276104469301356,19:0.276104469301356):10.576469485597139):0.12367755563570486,14:10.976251510534198):8.955188063661458):3.1157883997669527,9:23.047227973962613):1.8799761058796574,((7:2.0619994411829015,27:2.0619994411829015):2.305007155900407,13:4.367006597083309):20.56019748275896):5.915864411400626):2.3048098682529874,(5:16.159950494428884,16:16.159950494428887):16.987927865066997):8.412519285165146;

END;


BEGIN ASSUMPTIONS;
	TYPESET * UNTITLED   =  unord:  1 -  3;

END;

BEGIN MESQUITECHARMODELS;
	ProbModelSet * UNTITLED   =  'Mk1 (est.)':  1 -  3;
END;

Begin MESQUITE;
		MESQUITESCRIPTVERSION 2;
		TITLE AUTO;
		tell ProjectCoordinator;
		getEmployee #mesquite.minimal.ManageTaxa.ManageTaxa;
		tell It;
			setID 0 6732219986260810463 WM1148f47d2081;
		endTell;
		getEmployee #mesquite.charMatrices.ManageCharacters.ManageCharacters;
		tell It;
			setID 0 5916257448639733885 WM1149521002f0;
			checksum 0 3019586450;
		endTell;
		getEmployee  #mesquite.trees.BasicTreeWindowCoord.BasicTreeWindowCoord;
		tell It;
			makeTreeWindow #6732219986260810463  #mesquite.trees.BasicTreeWindowMaker.BasicTreeWindowMaker;
			tell It;
				setTreeSource  #mesquite.trees.StoredTrees.StoredTrees;
				tell It;
					setTreeBlock 1;
					toggleUseWeights off;
				endTell;
				setAssignedID 786.1187814845004.4817563795317733133;
				getTreeWindow;
				tell It;
					setExplanationSize 30;
					setAnnotationSize 20;
					setFontIncAnnot 0;
					setFontIncExp 0;
					setSize 1141 555;
					setLocation 81 33;
					setFont SanSerif;
					setFontSize 10;
					getToolPalette;
					tell It;
						setTool mesquite.trees.BasicTreeWindowMaker.BasicTreeWindow.interchange;
					endTell;
					setActive;
					getTreeDrawCoordinator #mesquite.trees.BasicTreeDrawCoordinator.BasicTreeDrawCoordinator;
				tell It;
					suppress;
					setTreeDrawer  #mesquite.trees.ArcTree.ArcTree;
					tell It;
						setNodeLocs #mesquite.trees.NodeLocsStandard.NodeLocsStandard;
						tell It;
							stretchToggle off;
							branchLengthsToggle on;
							toggleScale on;
							toggleBroadScale off;
							toggleCenter off;
							toggleEven off;
							namesAngle ?;
						endTell;
						setEdgeWidth 8;
						orientUp;
					endTell;
					setBackground White;
					setBranchColor Black;
					showNodeNumbers off;
					showBranchColors on;
					labelBranchLengths off;
					desuppress;
					getEmployee #mesquite.trees.BasicDrawTaxonNames.BasicDrawTaxonNames;
					tell It;
						setColor Black;
						toggleColorPartition on;
						toggleShadePartition off;
						toggleNodeLabels on;
						toggleCenterNodeNames off;
						toggleShowNames on;
					endTell;
				endTell;
					setTreeNumber 3;
					useSuggestedSize on;
					toggleTextOnTree off;
					newAssistant  #mesquite.ancstates.TraceCharacterHistory.TraceCharacterHistory;
				tell It;
					suspend ;
					setDisplayMode  #mesquite.ancstates.ShadeStatesOnTree.ShadeStatesOnTree;
					tell It;
						toggleLabels off;
						toggleGray off;
					endTell;
					setHistorySource  #mesquite.ancstates.RecAncestralStates.RecAncestralStates;
					tell It;
						getCharacterSource  #mesquite.charMatrices.CharSrcCoordObed.CharSrcCoordObed;
						tell It;
							setCharacterSource #mesquite.charMatrices.StoredCharacters.StoredCharacters;
							tell It;
								setDataSet #5916257448639733885;
							endTell;
						endTell;
						setMethod  #mesquite.parsimony.ParsAncestralStates.ParsAncestralStates;
						tell It;
							setModelSource  #mesquite.parsimony.CurrentParsModels.CurrentParsModels;
						endTell;
					endTell;
					setCharacter 3;
					setMapping 1;
					toggleShowLegend on;
					toggleGray off;
					toggleWeights on;
					setInitialOffsetX -162;
					setInitialOffsetY -163;
					setLegendWidth 142;
					setLegendHeight 161;
					resume ;
				endTell;
					newWindowAssistant  #mesquite.diverse.CharAssocDivViewer.CharAssocDivViewer;
				tell It;
					getCharSource  #mesquite.charMatrices.CharSrcCoordObed.CharSrcCoordObed;
					tell It;
						setCharacterSource #mesquite.charMatrices.StoredCharacters.StoredCharacters;
						tell It;
							setDataSet #5916257448639733885;
						endTell;
					endTell;
					setCalculator  #mesquite.diverse.BiSSELikelihood.BiSSELikelihood;
					tell It;
						suspend ;
						setParameters  ?  ?  =0 ?  ?  ?  ? ;
						setReportMode Likelihood;
						getIntegTask  #mesquite.diverse.BiSSELikelihoodCalculator.BiSSELikelihoodCalculator;
						tell It;
							suspend ;
							setUnderflowCheckFreq 2;
							setStepCount 1000.0;
							setIterations 5;
							conditionOnSurvival  off;
							resume ;
						endTell;
						resume ;
					endTell;
					setCharacter -1;
					doCounts;
				endTell;
				endTell;
				showWindow;
				getEmployee #mesquite.trees.ColorBranches.ColorBranches;
				tell It;
					setColor Red;
					removeColor off;
				endTell;
				getEmployee #mesquite.ornamental.BranchNotes.BranchNotes;
				tell It;
					setAlwaysOn off;
				endTell;
				getEmployee #mesquite.ornamental.ColorTreeByPartition.ColorTreeByPartition;
				tell It;
					colorByPartition off;
				endTell;
			endTell;
		endTell;
		getEmployee  #mesquite.charMatrices.BasicDataWindowCoord.BasicDataWindowCoord;
		tell It;
			showDataWindow #5916257448639733885 #mesquite.charMatrices.BasicDataWindowMaker.BasicDataWindowMaker;
			tell It;
				getWindow;
				tell It;
					setExplanationSize 30;
					setAnnotationSize 20;
					setFontIncAnnot 0;
					setFontIncExp 0;
					setSize 1141 555;
					setLocation 81 33;
					setFont SanSerif;
					setFontSize 10;
					getToolPalette;
					tell It;
					endTell;
					setTool mesquite.charMatrices.BasicDataWindowMaker.BasicDataWindow.arrow;
					colorCells  #mesquite.charMatrices.NoColor.NoColor;
					setBackground White;
					toggleShowNames on;
					toggleTight off;
					toggleShowChanges on;
					toggleSeparateLines off;
					toggleShowStates on;
					toggleAutoWCharNames on;
					toggleShowDefaultCharNames off;
					toggleConstrainCW on;
					setColumnWidth 16;
					toggleBirdsEye off;
					toggleColorsPanel off;
					birdsEyeWidth 2;
					toggleLinkedScrolling on;
					toggleScrollLinkedTables off;
				endTell;
				showWindow;
				hideWindow;
				getEmployee #mesquite.categ.StateNamesStrip.StateNamesStrip;
				tell It;
					showStrip off;
				endTell;
				getEmployee #mesquite.charMatrices.AnnotPanel.AnnotPanel;
				tell It;
					togglePanel off;
				endTell;
				getEmployee #mesquite.charMatrices.CharReferenceStrip.CharReferenceStrip;
				tell It;
					showStrip off;
				endTell;
				getEmployee #mesquite.charMatrices.ColorCells.ColorCells;
				tell It;
					setColor Red;
					removeColor off;
				endTell;
				getEmployee #mesquite.charMatrices.QuickKeySelector.QuickKeySelector;
				tell It;
					autotabOff;
				endTell;
			endTell;
		endTell;
		newAssistant  #mesquite.basic.ExamplesNavigator.ExamplesNavigator;
		tell It;
			setNextFileName '07-contTreeSim.nex';
			setPrevFileName '05-BiSSENetViewer.nex';
			getWindow;
			tell It;
					popOut;
					setExplanationSize 0;
					setAnnotationSize 0;
					setFontIncAnnot 0;
					setFontIncExp 0;
					setSize 564 411;
					setLocation 58 458;
					setFont SanSerif;
					setFontSize 10;
				setExplanation 'To save BiSSE results (with parameter values) for multiple trees, you can either do a chart for Trees (indicating you want to save a results table) or you can set up a tree window as shown, with the BiSSE analysis running.  Then, go to the Window menu of the Tree window, and select Scripting>Send script.  In the dialog box, paste the following script.  It goes through the trees and saves the results in a file, which will be in the same directory as the data file.^n^n[===== script to tree window for BiSSE calculations =====]^n String.resultsFile ''results.txt'';^rsaveMessageToFile *String.resultsFile ''RESULTS with different trees'';^rappendReturnToFile *String.resultsFile;^rgetWindow;^rtell It;^r	getNumTrees;^r	Integer.numReps *It;^r	ifNotCombinable *Integer.numReps;^r		Integer.numReps 10; [in case indefinite number of trees]^r	endIf;^rendTell;^rdebug;^rInteger.count 0;^rfor *Integer.numReps;^r	increment.count;^r	getWindow;^r	tell It;^r		setTreeNumber *Integer.count;^r	endTell;^r	getEmployee #mesquite.diverse.CharAssocDivViewer.CharAssocDivViewer;^r	tell It;^r		doCounts; [because counts dont auto-update when scripting]^r	endTell;^r	getEmployee #mesquite.diverse.BiSSELikelihood.BiSSELikelihood;^r	tell It;^r		getLastResult;^r		String.result *It;^r		appendMessageToFile *String.resultsFile *String.result;^r		appendReturnToFile *String.resultsFile;^r	endTell;^rendFor;^r';
				setTitle Results_from_Multiple_Trees;
				toggleFileNames off;
				setPrevButtonName Previous;
				setNextButtonName Next;
			endTell;
			showWindow;
		endTell;
		endTell;
end;


