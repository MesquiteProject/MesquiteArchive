telling mesquite.minimal.BasicFileCoordinator.BasicFileCoordinator  'Set up Associated Taxa block'   'Creates a block of taxa, creates an association between it and the previously existing block, and presents a way to build the associated block of taxa.  Assumes the current file has a single block of taxa'   0;
queryYesNo 'This macro assumes there is a single block of taxa available.  It creates a second block and associates it with the first' 'Stop' 'Continue';
Integer.answer *It;
if *Integer.answer;
	getEmployee  #mesquite.minimal.ManageTaxa.ManageTaxa;
	tell It;
		String.existing *It;
		newTaxa 1 'Associates';
		tell It;
			setTaxonName 0 'associate 1';
		endTell;
	endTell;
	
	getEmployee #mesquite.assoc.ManageAssociations.ManageAssociations;
	tell It;
		makeAssociation 0 1;
	endTell;
	
	getEmployee  #mesquite.minimal.ManageTaxa.ManageTaxa;
	tell It;
		showTaxa 0 #mesquite.lists.TaxonList.TaxonList;
		tell It;
			getWindow;
			tell It;
				newAssistant  #mesquite.lists.TaxonListCurrPartition.TaxonListCurrPartition;
				newAssistant  #mesquite.assoc.TaxonListAssoc.TaxonListAssoc;
				tell It;
					getEmployee #mesquite.assoc.StoredAssociations.StoredAssociations;
					tell It;
						setCurrentAssociation 0;
					endTell;
				endTell;
			endTell;
			showWindow;
		endTell;
	endTell;
	alert 'In the List of Taxa window is now a column labelled Associates.  Select rows and then touch on this column heading to get a menu in which you can indicate what taxa in the other block are associated with the selected taxa.  You can also create new taxa in that other block using the drop down menu.  In this way you can complete the specification of what are the associated taxa'; 
endIf;
