/* Mesquite.chromaseq source code.  Copyright 2005 D. Maddison, W. Maddison. Disclaimer:  The Mesquite source code is lengthy and we are few.  There are no doubt inefficiencies and goofs in this code. The commenting leaves much to be desired. Please approach this source code with the spirit of helping out.Perhaps with your help we can be more than a few, and make Mesquite better.Mesquite is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY.Mesquite's web site is http://mesquiteproject.orgThis source code and its compiled class files are free and modifiable under the terms of GNU Lesser General Public License.  (http://www.gnu.org/copyleft/lesser.html)*/package mesquite.chromaseq.lib; import java.awt.*;import mesquite.lib.*;import mesquite.categ.lib.*;public abstract class SequencePanel extends MesquitePanel  {	//	Chromatogram chromData;	protected int centerBase = 0;	protected ChromatogramWindow window;	protected SequenceCanvas canvas;	protected MesquiteSequence sequence;	protected int width = 0;	protected int height = 0;	protected boolean showReadReadConflict = true;	protected boolean showSourceIsLowerQuality = false;		public SequencePanel(ChromatogramWindow window, MesquiteSequence sequence) {		super();		this.window = window;		setBackground(ColorDistribution.paleGoldenRod);		this.sequence = sequence;		canvas = makeCanvas();		this.setLayout(null);		canvas.setBounds(0,0,getBounds().width, getBounds().height);		this.add("Center",canvas);		canvas.setVisible(true);	}	protected abstract SequenceCanvas makeCanvas();	public SequenceCanvas getCanvas(){		return canvas;	}	/*.................................................................................................................*/	public void setShowReadReadConflict(boolean showReadReadConflict) {		this.showReadReadConflict = showReadReadConflict;	}	/*.................................................................................................................*/	public boolean getShowReadReadConflict() {		return showReadReadConflict;	}	/*.................................................................................................................*/	public void setShowLowerQualSourceConflictsWithHigherQualRead(boolean showSourceIsLowerQuality) {		this.showSourceIsLowerQuality = showSourceIsLowerQuality;	}	/*.................................................................................................................*/	public boolean getShowLowerQualSourceConflictsWithHigherQualRead() {		return showSourceIsLowerQuality;	}	public  void setBounds(int x, int y, int width, int height) {		super.setBounds(x,y,width,height);		canvas.setBounds(0,0,getBounds().width, getBounds().height);	}/*--------------------------------------*/	public String getSequenceString(){		return sequence.getSequence();	}		public void setBackground(Color color){		super.setBackground(color);		if (canvas != null)			canvas.setBackground(color);	}	/*.................................................................................................................*/	public void setColorByQuality(boolean colorByQuality) {		if (canvas!=null)			canvas.setColorByQuality(colorByQuality);	}	boolean listen = true;   	 /*--------------------------------------*/	//uses index in consensus	public boolean setSelectedConsensus(int i, boolean sel, boolean repaint){		if (!listen)			return false;		return canvas.setSelectedConsensus(i, sel, repaint);	}//	uses index in consensus	public boolean getSelectedConsensus(int i){		return canvas.getSelectedConsensus(i);	}	public void deselectAll(){		canvas.deselectAll();	}	//this is consensus position	public void exportSelectConsensusPosition(int i){		listen = false;		window.selectConsensusPositionInTable(i);				window.setSelectedConsensusPositionInChrom(i, true, true);			listen = true;	}	//this is consensus position	public void exportDeselectConsensusPosition(int i){		listen = false;		window.deselectConsensusPositionInTable(i);		window.setSelectedConsensusPositionInChrom(i, false, true);		listen = true;	}	public void exportDeselectAll(){		listen = false;		window.deselectAllInTable();		window.deselectAllInPanels();		listen = true;	}	public void synchChromToTable(boolean syncPosition){		window.synchChromToTable(syncPosition);	}	public void repaintPanel(){		repaint();		canvas.repaint();	}	public void centerPanelAtOverallPosition(int i){		centerBase = i;		canvas.repaint();	}}